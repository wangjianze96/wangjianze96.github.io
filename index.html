<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"wangjianze96.github.io","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="Jianze&#39;s Blog">
<meta property="og:url" content="https://wangjianze96.github.io/index.html">
<meta property="og:site_name" content="Jianze&#39;s Blog">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Wang Jinaze">
<meta property="article:tag" content="Hardware, FPGA">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://wangjianze96.github.io/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'en'
  };
</script>

  <title>Jianze's Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">
<!-- hexo injector head_end end --></head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Jianze's Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">Feel the beauty of circuits</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://wangjianze96.github.io/2021/09/05/arch-install-end/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Wang Jinaze">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jianze's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/09/05/arch-install-end/" class="post-title-link" itemprop="url">保姆级Arch Linux安装教程(2)</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2021-09-05 16:42:49 / Modified: 18:34:31" itemprop="dateCreated datePublished" datetime="2021-09-05T16:42:49+08:00">2021-09-05</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Hobby/" itemprop="url" rel="index"><span itemprop="name">Hobby</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="一些准备工作"><a href="#一些准备工作" class="headerlink" title="一些准备工作"></a>一些准备工作</h1><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a><strong>参考</strong></h2><ul>
<li><a target="_blank" rel="noopener" href="https://wiki.archlinux.org/">官方Wiki</a></li>
<li>Bilibili up主：<a target="_blank" rel="noopener" href="https://space.bilibili.com/13081489">TheCW</a> -&gt; <a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1q7411s7LS">Arch Linux安装视频</a></li>
</ul>
<h2 id="联网（重要）"><a href="#联网（重要）" class="headerlink" title="联网（重要）"></a>联网（重要）</h2><p>这一小节接<a href="https://wangjianze96.github.io/2021/07/02/arch-install/">上一篇教程</a>。接下来的所有操作都已默认你已经安装好了Arch Linux，如果你还没有安装，可以参考上一篇教程进行安装。</p>
<p>当我们开机后会进入到下图中的界面，一个纯命令行交互界面。如果你不需要一个图形化界面，那么只需要把接下来联网的步骤做完，你的系统就已经准备好了。</p>
<p><img src="./arch_imgs/17.png" alt="17"></p>
<p>因为在之前的安装过程中，我们并没有创建新的用户，只是创建了<code>root</code>的密码，所以登录时只能以<code>root</code>身份登录系统。这时如果直接输入<code>pacman -Syyu</code>的话，系统会报错因为我们没有连接到互联网。为了让系统连接到网络，需要每次开机都输入一次<code>dhcpcd &amp;</code>，这样很麻烦而且效率很低。所以为了让每次开机时系统自动连接到网络，我们需要按照以下步骤来让系统每次开机时自动运行<code>dhcpcd</code>。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ip link show</span><br></pre></td></tr></table></figure>
<p>输入上面的命令后，我们可以看到我们系统的网络接口名称，我的如下图所示，接口名称为<code>ens33</code></p>
<p><img src="./arch_imgs/18.png" alt="18"></p>
<p>接下来，我们创建一个名为<code>dhcpcd@ens33</code>的服务，并在每次开机时自动启动这个服务，输入以下命令：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl enable dhcpcd@ens33.service</span><br></pre></td></tr></table></figure>
<p>注意，将上面的<code>ens33</code>替换成你自己的接口名称。这时如果重启系统的话，利用<code>ping www.baidu.com</code>来查看，我们就会看到此时系统已经连到网络了。不想重启的话，可以输入下面的命令启动这一服务：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl start dhcpcd@ens33.service</span><br></pre></td></tr></table></figure>
<p>这时再输入<code>pacman -Syyu</code>，系统就可以正常安装其他包和更新了。</p>
<p><img src="./arch_imgs/19.png" alt="19"></p>
<h2 id="创建低权限用户"><a href="#创建低权限用户" class="headerlink" title="创建低权限用户"></a>创建低权限用户</h2><p>创建较低权限用户的原因是<code>root</code>权限过高，对于不太熟悉Linux系统的用户，在输入一些对系统有较大改动的命令时，很容易出现误操作，比如<code>rm -rf /</code>。使用较低权限用户可以有效避免这些问题。首先安装一下必要的工具：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pacman -S base-devel</span><br></pre></td></tr></table></figure>
<p>使用<code>useradd</code>添加一个新的用户：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">useradd jay -m -G wheel</span><br></pre></td></tr></table></figure>
<p>其中<code>-m</code>是为用户创建<code>home</code>目录，<code>-G</code>是把用户添加进组，上面的命令是将用户<code>jay</code>添加进名为<code>wheel</code>组。但此时这个用户还没有权限对系统作出改动。我们需要编辑<code>/etc/sudoers.tmp</code>文件。这里我用<code>vim</code>进行编辑。找到<code># %wheel ALL=(ALL) ALL</code>这一行，删掉前面的<code>#</code>，保存并退出。</p>
<p><img src="./arch_imgs/20.png" alt="20"></p>
<p>这时我们从<code>root</code>用户退出，已创建的新用户登录，输入<code>sudo pacman -Syyu</code>，我们就会看到这个新的用于再输入密码后也可以对系统作出改动了。</p>
<p><img src="./arch_imgs/21.png" alt="21"></p>
<h1 id="安装KDE-Plasma"><a href="#安装KDE-Plasma" class="headerlink" title="安装KDE-Plasma"></a>安装KDE-Plasma</h1><h2 id="安装display-server"><a href="#安装display-server" class="headerlink" title="安装display server"></a>安装display server</h2><p>主流的display server有两个，一个是<a target="_blank" rel="noopener" href="https://wiki.archlinux.org/title/Xorg">Xorg</a>（X11），另一个时<a target="_blank" rel="noopener" href="https://wiki.archlinux.org/title/Wayland">Wayland</a>。Wayland的主要目标时成为Xorg的继任者。可以根据个人需求安装。本篇使用Xorg。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S xorg</span><br></pre></td></tr></table></figure>
<h2 id="安装plasma-desktop以及sddm"><a href="#安装plasma-desktop以及sddm" class="headerlink" title="安装plasma-desktop以及sddm"></a>安装plasma-desktop以及sddm</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S plasma</span><br></pre></td></tr></table></figure>
<p>注意，此命令其实只安装了<code>plasma-desktop</code>，一些常用的KDE应用并没有被安装。</p>
<p><code>sddm</code>是一个<a target="_blank" rel="noopener" href="https://wiki.archlinux.org/title/Display_manager">display manager</a>。通常被用于系统的login，例如下图：</p>
<p><img src="./arch_imgs/22.png" alt="22"></p>
<p>输入下面的命令安装<code>sddm</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S sddm</span><br></pre></td></tr></table></figure>
<p>和<code>dhcpcd</code>一样，此时<code>sddm</code>并不会在下次开机时自动运行，所以，类似<code>dhcpcd</code>，我们也要创建一个名为<code>sddm.service</code>的服务并告知系统我们需要在每次开机时自动运行这个服务。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl enable sddm.service</span><br></pre></td></tr></table></figure>
<h2 id="安装kde-applications"><a href="#安装kde-applications" class="headerlink" title="安装kde-applications"></a>安装kde-applications</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S kde-applications</span><br></pre></td></tr></table></figure>
<p>输入这个命令后，我们可以看到以下输出：</p>
<p><img src="./arch_imgs/23.png" alt="23"></p>
<p>可以看到，pacman给出了所有会安装的包，如果你不像我一样只想要一个小一些的系统的话，就可以直接默认全选了。因为是在笔记本上新建的虚拟机，我没有给Arch分配很大的空间。所以我这里只选了几个必须的包：</p>
<ul>
<li>(13 &amp; 14) dolphin：kde的文件管理器</li>
<li>(21) gwenview：kde的图片查看器</li>
<li>(106) konsole：kde的终端模拟器</li>
<li>(142) okular：kde的PDF阅读器<br>注：因为版本更新，在安装时软件包的编号可能会变化，输入你想安装的包的编号就好。</li>
</ul>
<p>当然，还差一个浏览器：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S firefox</span><br></pre></td></tr></table></figure>
<p>注：google-chrome不在Arch Linux的官方库中，<a target="_blank" rel="noopener" href="https://aur.archlinux.org/">AUR</a>中有相关的包，可以参考<a target="_blank" rel="noopener" href="https://aur.archlinux.org/packages/google-chrome/">官方文档</a>进行安装。</p>
<p>以上步骤做好后，重启系统，我们就有一个KDE桌面的Arch Linux了。</p>
<p><img src="./arch_imgs/24.png" alt="24"></p>
<h1 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h1><p>本教程只是引导安装了KDE-plasma桌面，Arch Linux还有其他有意思的桌面，比如Gnome和XFCE。如果有兴趣的话，也可以尝试一些tiling windows manager，比如<a target="_blank" rel="noopener" href="https://dwm.suckless.org/">dwm</a>，<a target="_blank" rel="noopener" href="https://i3wm.org/docs/userguide.html">i3</a>等。</p>
<p>我在自己的GitHub上放出了自己<a target="_blank" rel="noopener" href="http://qtile.org/">Qtile</a>的配置，如果有兴趣也可以<a target="_blank" rel="noopener" href="https://github.com/wangjianze96/Qtile">尝试一下</a>。</p>
<p><img src="./arch_imgs/25.png" alt="25"></p>
<p>虽然废了很多力气写这两篇文档，但实际上我并没有把Arch Linux作为我常用的工作系统，处于工作的需要，我依然需要Windows和Ubuntu。Arch Linux也因为是滚动更新所以并不稳定，所以我并不推荐新手把Arch用作工作系统。但也正因为如此，在使用Arch的过程中会需要解决问题，我对于Linux的理解也更加的深入了。</p>
<p>如果这两篇教程有帮助到你，我会非常开心。一起继续保持学习吧。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://wangjianze96.github.io/2021/08/14/hspice/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Wang Jinaze">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jianze's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/08/14/hspice/" class="post-title-link" itemprop="url">HSPICE - How to understand</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2021-08-14 00:06:20 / Modified: 00:14:15" itemprop="dateCreated datePublished" datetime="2021-08-14T00:06:20+08:00">2021-08-14</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/HSPICE/" itemprop="url" rel="index"><span itemprop="name">HSPICE</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><a target="_blank" rel="noopener" href="http://www.cisl.columbia.edu/hspice/">reference</a></p>
<h1 id="HSPICE-Introduction"><a href="#HSPICE-Introduction" class="headerlink" title="HSPICE - Introduction"></a>HSPICE - Introduction</h1><p>SPICE is a general purpose analog circuit simulator that is used to verify circuit designs and to predict circuit behavior. This is of particular importance for “integrated circuits”. It was for this reason that SPICE was originally developed at the Electronics Research Laboratory of the University of California, Berkeley (1975), as its name implies:</p>
<p><strong><em>S</em></strong>imlulation <strong><em>P</em></strong>rogram for <strong><em>I</em></strong>ntegrated <strong><em>C</em></strong>ircuit <strong><em>E</em></strong>mphasis</p>
<p>HSPICE is a commercial and very powerful version of SPICE that has fewer bugs than the freely avaliable Berkeley SPICE. HSPICE is a relatively comprehensive program that can be used to simulate very large circuits comprising many different types of components. HSPICE is able to handle hierarchical circuit structures (i.e., you can define subcircuits) and supports both local and global variables/parameters.</p>
<p>Circuit analyses supported by HSPICE:</p>
<ul>
<li>Non-linear DC analysis: calculates the DC transfer curves from any input to any output.</li>
<li>Non-linear transient analysis: calculates the voltages the currents as a function of time when a signal is applied.</li>
<li>Linear AC Analysis: calculates the frequency response from the input to all specified node voltages and currents. Bode plots can be generated using a graphical post processor, such as AWAVES.</li>
<li>Noise analysis</li>
<li>Sensitivity analysis</li>
<li>Distortion analysis</li>
<li>Fourier analysis: calculates and plots the frequency spectrum</li>
<li>Monte Carlo Analysis</li>
</ul>
<p>Components supported by HSPICE:</p>
<ul>
<li>Independent and dependent voltage and current sources</li>
<li>Resistors</li>
<li>Capacitors</li>
<li>Inductors</li>
<li>Mutual Inductors</li>
<li>Transmission Lines</li>
<li>Operational Amplifiers</li>
<li>Switches</li>
<li>Diodes</li>
<li>Bipolar Transistors</li>
<li>MOSFET Transistors</li>
<li>MESFET Transistors</li>
<li>JFET Transistors</li>
<li>etc.</li>
</ul>
<h1 id="HSPICE-Files"><a href="#HSPICE-Files" class="headerlink" title="HSPICE - Files"></a>HSPICE - Files</h1><h2 id="HSPICE-Input-Files"><a href="#HSPICE-Input-Files" class="headerlink" title="HSPICE Input Files"></a>HSPICE Input Files</h2><ul>
<li>source (nelist): filename.sp</li>
<li>design configuration: filename.cfg</li>
<li>initialization: hspice.ini</li>
</ul>
<h2 id="HSPICE-Output-Files"><a href="#HSPICE-Output-Files" class="headerlink" title="HSPICE Output Files"></a>HSPICE Output Files</h2><ul>
<li>run status: filename.st0</li>
<li>output listing: filename.lis</li>
<li>graph data, transient: filename.tr# (.tr0)</li>
<li>graph data, dc: filename.sw# (.sw0)</li>
<li>graph data, ac: filename.ac# (.ac0)</li>
<li>measure output: filename.m*# (.mt0)</li>
</ul>
<h3 id="Source-file-sp"><a href="#Source-file-sp" class="headerlink" title="Source file (.sp)"></a>Source file (.sp)</h3><p>The source file is your input file. This file contains your circuits description and all options and analysis you wish HSPICE to deal with. The structure looks like this:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">title					- Implicit first line, must be there</span><br><span class="line">.options				- set conditions for simulation</span><br><span class="line">ANALYSIS and TEMP		- statements to sweep variables</span><br><span class="line">.print&#x2F;.plot&#x2F;Analysis	- set print, plot, and analysis variables</span><br><span class="line">.initial conditions		- input state of system</span><br><span class="line">netlist					- circuit descriptions (components, input sources)</span><br><span class="line">.model libraries		- .lib and .inc</span><br><span class="line">.end					- terminates the simulation (always add a newline character)</span><br></pre></td></tr></table></figure>
<h3 id="Design-configuration-cfg"><a href="#Design-configuration-cfg" class="headerlink" title="Design configuration (.cfg)"></a>Design configuration (.cfg)</h3><p>Configuration files are used by HSPICE, AWAVES and HSPLOT to describe the available terminals and hardcopy devices.</p>
<h3 id="Initialization-hspice-ini"><a href="#Initialization-hspice-ini" class="headerlink" title="Initialization (hspice.ini)"></a>Initialization (hspice.ini)</h3><p>The initialization file deals primarily with setting up HSPICE itself and has no need to be modified by users.</p>
<h3 id="Run-status-st0"><a href="#Run-status-st0" class="headerlink" title="Run status (.st0)"></a>Run status (.st0)</h3><p>The run status file is a transcript of what operations HSPICE performs on a source file. The file sometimes offers help when debugging as shows steps not preformed by HSPICE.</p>
<h3 id="Output-listing-important-lis"><a href="#Output-listing-important-lis" class="headerlink" title="Output listing - important (.lis)"></a>Output listing - important (.lis)</h3><p>This is one of the most important files in HSPICE as this file lists all results obtained from simulation. This file contains (in order of listing in the file):</p>
<ol>
<li>HSPICE licensing info</li>
<li>Listing of the circuit</li>
<li>Results from the analysis of the circuit (.op, .print, .plot, .measure, .ac, and .tran in order of their appearance in the source file)</li>
</ol>
<h3 id="Graph-data-files-tr-sw-ac"><a href="#Graph-data-files-tr-sw-ac" class="headerlink" title="Graph data files (.tr#, .sw#, .ac#)"></a>Graph data files (.tr#, .sw#, .ac#)</h3><p>Graph date files are created by <code>.OPTION POST</code> command and contain the date to graphed by HSPLOT, AWAVES, HSPICE. Basically these files retain the data to be graphed from the .lis file in a different graphing format.</p>
<h3 id="Measure-output-m"><a href="#Measure-output-m" class="headerlink" title="Measure output (.m*#)"></a>Measure output (.m*#)</h3><p>The measure output file hold the result from <code>.MEASURE</code> commands. These files are not very useful because the data is hard to read and already exits in a nicely formatted way in the .lis file.</p>
<h1 id="HSPICE-Source-File"><a href="#HSPICE-Source-File" class="headerlink" title="HSPICE - Source File"></a>HSPICE - Source File</h1><p>The HSPICE source file consists of five parts.</p>
<ul>
<li><em>Title statement</em>: the first line is the circuits title; it may be anything, but not neglected.</li>
<li><em>Data statements</em>: description of the components and the interconnections.</li>
<li><em>Control statements</em>: tells SPICE what type of analysis to perform on the circuit.</li>
<li><em>Output statements</em>: specifies what outputs are to be printed or plotted.</li>
<li><em>End statement</em>: on the very last line: .END followed by a carriage return.</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">TITLE STATEMENT</span><br><span class="line">ELEMENT STATEMENTS</span><br><span class="line">.</span><br><span class="line">.</span><br><span class="line">COMMAND (CONTROL) STATEMENTS</span><br><span class="line">OUTPUT STATEMENTS</span><br><span class="line">.END</span><br></pre></td></tr></table></figure>
<p><em>Comment statements</em>: can be anywhere in the source file:</p>
<ul>
<li>‘*‘ - indicates a full line comment</li>
<li>‘$’ - indicates and end-of-line comment</li>
</ul>
<p>Continuation: ‘+’ - indicates a continuation of the previous line.</p>
<h2 id="NOTATION"><a href="#NOTATION" class="headerlink" title="NOTATION"></a>NOTATION</h2><p>HSPICE notation is relatively simple. Both upper and lower case letters are allowed, but no distinction is made (HSPICE converts everything to upper-case characters before any interpretation is attempted).</p>
<p>The statements have a free format and consist of fields separated by a blank. Each line is interpreted as a separate statement.</p>
<ol>
<li>All statements begining with a ‘.’ are commands (.OPTION, .PRINT, .AC, etc.)</li>
<li>Statements that begin with an alphabetic character are treated as elements, the first character determines the type of element:<ul>
<li>R for resistors</li>
<li>C for capacitors</li>
<li>L for inductors:</li>
<li>D for diodes</li>
<li>Q for bipolar junction transistors</li>
<li>M for MOS transistors</li>
<li>V for voltage sources</li>
<li>I for current sources</li>
<li>G for voltage-controlled current sources (tranconductance amplifiers)</li>
<li>F for current-controlled current sources (current amplifiers)</li>
<li>E for voltage controlled voltage sources (voltage amplifiers)</li>
<li>H for current-controlled voltage sources (tranresistance amplifiers)</li>
<li>X for subcircuits (hierarchical circuit structure)</li>
</ul>
</li>
</ol>
<h2 id="Topology-Rules"><a href="#Topology-Rules" class="headerlink" title="Topology Rules"></a>Topology Rules</h2><ul>
<li>Every node must have a DC path to ground.</li>
<li>No dangling nodes (all nodes must have at least two connections).</li>
<li>No loops of only ideal voltage sources and capacitors.</li>
<li>No nodes connected to only ideal current sources and inductors.</li>
</ul>
<h2 id="Naming-conventions"><a href="#Naming-conventions" class="headerlink" title="Naming conventions"></a>Naming conventions</h2><ul>
<li>Node Identification:<ul>
<li>0 is ALWAYS ground</li>
<li>It’s best to start all node names (besides ground) with an alphabetic character.</li>
</ul>
</li>
</ul>
<h2 id="HSICE-units"><a href="#HSICE-units" class="headerlink" title="HSICE units"></a>HSICE units</h2><ul>
<li>f=1e-15</li>
<li>p=1e-12</li>
<li>n=1e-9</li>
<li>u=1e-6</li>
<li>m=1e-3</li>
<li>k=1e3</li>
<li>meg=x=1e6</li>
<li>g=1e9</li>
<li>t=1e12</li>
</ul>
<h2 id="Global-Variables"><a href="#Global-Variables" class="headerlink" title="Global Variables"></a>Global Variables</h2><ul>
<li>Syntax<ul>
<li><code>.global node1 node2 node3</code> : globally defined nodes</li>
<li><code>.global vbias vcc</code>          : globally defined sources</li>
</ul>
</li>
<li>Usage<ul>
<li>when subcircuits are included in the data file</li>
<li>assign common node name to subsircuit nodes</li>
<li>power supply connection of all subcircuits is often done this way:<ul>
<li><code>.global vcc</code>: connects all nodes named vcc (all circuits have a common node)</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>Essential globals are used most often for subcircuits, though they are great for sources. Notice that ground (node 0) always is a global node.</p>
<h1 id="HSPICE-Devices"><a href="#HSPICE-Devices" class="headerlink" title="HSPICE - Devices"></a>HSPICE - Devices</h1><h2 id="General-Element-Statements"><a href="#General-Element-Statements" class="headerlink" title="General Element Statements"></a>General Element Statements</h2><p>The element statement specifies the type of element or independent source used.<br>It has a field for the element name, the connecting nodes, a value for the<br>component, and optional parameters.</p>
<blockquote>
<p>General Form:   </p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">NAME node1 node2 ... nodeN &lt;model reference&gt; value &lt;optional parameters&gt;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>NAME</strong><br>Specifies the type and name of element. The first letter in the name field<br>identifies the element as a specific type, the remaining letters give the element<br>a unique name.</p>
</blockquote>
<blockquote>
<p><strong>node</strong><br>Specifies how the element is connected in the netlist.</p>
</blockquote>
<blockquote>
<p><strong>value</strong><br>Gives the values of the element</p>
</blockquote>
<blockquote>
<p><strong><model reference></strong><br>Refers to the model when the basic element value does not provide an adequate<br>description.</p>
</blockquote>
<blockquote>
<p><strong><optional parameters></strong><br>Used to modify existing values within a <code>.model</code> for this paricular element.<br>In order to words a <code>.model</code> might have a temperature of 27 degrees when you<br>what 40 degrees Centigrade.</p>
</blockquote>
<hr>
<h2 id="model-Statements"><a href="#model-Statements" class="headerlink" title=".model Statements"></a><code>.model</code> Statements</h2><p><code>.model</code> statements allow extra device descriptions are required for accuracy.<br>For instance, a <code>.model</code> statement can be used to give resistors operating<br>temperatures, L and W values to MOSFET’s, or even insulator thickness on a<br>capacitor. <code>.model</code> statements can be included any within the <code>.lis</code>, though<br>they are usually placed before the netlist for convenience.</p>
<blockquote>
<p>General Form:</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.model mname modeltype&lt;keyword&#x3D;value&gt;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>mname</strong><br>The model reference name specified in the associated element statement.</p>
</blockquote>
<blockquote>
<p><strong>modeltype</strong><br>Specifies the model type to be used, i.e., R for a resistro, C for a capacitor,<br>and L for inductor.</p>
</blockquote>
<hr>
<h2 id="param-Statements"><a href="#param-Statements" class="headerlink" title=".param Statements"></a><code>.param</code> Statements</h2><p><code>.param</code> statements allow the user to define local variables.<br>The variables can be defined as values, equations, or even functions.</p>
<blockquote>
<p>General Form:   </p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.param variable &#x3D; &#39;expression&#39;</span><br><span class="line">	or</span><br><span class="line">.param variable &#x3D; value</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>variable</strong><br>Represents the name of the variable or function to be defined.<br><strong>expression</strong><br>Represents the value, equation, or function to be assigned to the variable.</p>
</blockquote>
<hr>
<h2 id="Devices"><a href="#Devices" class="headerlink" title="Devices"></a>Devices</h2><h3 id="Passive"><a href="#Passive" class="headerlink" title="Passive"></a>Passive</h3><h4 id="Resistors"><a href="#Resistors" class="headerlink" title="Resistors"></a>Resistors</h4><p>The resistor elements use the following formats:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Rxxx n1 n2 Rval</span><br><span class="line">Rxxx n1 n2 &lt;mname&gt; Rval &lt;TC1&#x3D;val&gt; &lt;TC2&#x3D;val&gt; &lt;SCALE&#x3D;val&gt; &lt;m&#x3D;val&gt;</span><br><span class="line">+&lt;AC&#x3D;val&gt; &lt;DTEMP&#x3D;val&gt; &lt;L&#x3D;val&gt; &lt;W&#x3D;val&gt; &lt;C&#x3D;val&gt;</span><br><span class="line">Rxxx n1 n2 R&#x3D;&#39;equation&#39;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>AC</strong><br>AC resistance used in the AC analysis.<br>default=Reff</p>
</blockquote>
<blockquote>
<p><strong>C</strong><br>Capacitance connected from node n2 to bulk.<br>default=0.0</p>
</blockquote>
<blockquote>
<p><strong>DTEMP</strong><br>Element and circuit temperature difference.<br>default=0.0</p>
</blockquote>
<blockquote>
<p><strong>equation</strong><br>The resistor can be described as a function of any node voltage, branch currents<br>and any independent variables such as TIME, frequency (HERTZ), or temperature<br>(TEMPER)</p>
</blockquote>
<blockquote>
<p><strong>L</strong><br>Resistor length.<br>default=0.0</p>
</blockquote>
<blockquote>
<p><strong>M</strong><br>Multiplier used to simulate parallel resistors.<br>default=1</p>
</blockquote>
<blockquote>
<p><strong>mname</strong><br>Model name.</p>
</blockquote>
<blockquote>
<p><strong>n1</strong><br>Positive terminal node name.</p>
</blockquote>
<blockquote>
<p><strong>n2</strong><br>Negative terminal node name.</p>
</blockquote>
<blockquote>
<p><strong>R</strong><br>Resistance.</p>
</blockquote>
<blockquote>
<p><strong>Rxxx</strong><br>resistor element name. Must begin with ‘R’.</p>
</blockquote>
<blockquote>
<p><strong>SCALE</strong><br>Element scale factor for resistance and capacitance.<br>default=1</p>
</blockquote>
<blockquote>
<p><strong>TC1</strong><br>1st order Temp. Coeff. for resistor.</p>
</blockquote>
<blockquote>
<p><strong>TC2</strong><br>2nd order Temp. Coeff. for resistor.</p>
</blockquote>
<blockquote>
<p><strong>W</strong><br>Resistor width.<br>default=0.0</p>
</blockquote>
<hr>
<h4 id="Capacitors"><a href="#Capacitors" class="headerlink" title="Capacitors"></a>Capacitors</h4><p>The capacitor elements use the following formats:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Cxxx n1 n2 capval</span><br><span class="line">Cxxx n1 n2 &lt;mname&gt; capval &lt;TC1&gt; &lt;TC2&gt; &lt;SCALE&#x3D;val&gt; &lt;IV&#x3D;val&gt; &lt;M&#x3D;val&gt;</span><br><span class="line">+&lt;DETMP&#x3D;val&gt; &lt;L&#x3D;val&gt; &lt;W&#x3D;val&gt;</span><br><span class="line">Cxxx n1 n2 &lt;mname&gt; C&#x3D;val &lt;TC1&#x3D;val&gt; &lt;TC2&#x3D;val&gt; &lt;SCALE&#x3D;val&gt; &lt;M&#x3D;val&gt;</span><br><span class="line">+&lt;DTEMP&#x3D;val&gt; &lt;L&#x3D;val&gt; &lt;W&#x3D;val&gt;</span><br><span class="line">Cxxx n1 n2 C&#x3D;&#39;equation&#39; CTYPE&#x3D;0 or 1</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>Cxxx</strong><br>Capacitor element name. Must begin with an ‘C’.</p>
</blockquote>
<blockquote>
<p><strong>C</strong><br>Capacitance in farads at room temperature.</p>
</blockquote>
<blockquote>
<p><strong>CTYPE</strong><br>For capacitance, if C is a function of v(n1,n2),then CTYPE=0 else =1.<br>The capacitance charge is calculated differently depending on the value of<br>CTYPE.</p>
</blockquote>
<blockquote>
<p><strong>IV</strong><br>Initial voltage across the capacitor in volts.</p>
</blockquote>
<p>The rest can refer to resistor which the definitions are the same.</p>
<p><em>Note: Inductor is skipped since I don’t use it in my design.</em></p>
<hr>
<h3 id="Active"><a href="#Active" class="headerlink" title="Active"></a>Active</h3><h4 id="Diodes"><a href="#Diodes" class="headerlink" title="Diodes"></a>Diodes</h4><p>Diodes in HSPICE can be anywhere from very complex realistic diodes to simple<br>ideal ones depending on the circuit designer. In general all diodes will have a<br>model name and be defined by a <code>.model</code> statement. Since most models are<br>provided, <code>.model</code> descriptions will not be given in any detail.<br>The diode element uses the following formats:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Dxxx nplus nminus mname &lt;options&gt;</span><br><span class="line">Dxxx nplus nminus mname &lt;AREA&#x3D;val&gt; &lt;PJ&#x3D;val&gt; &lt;WP&#x3D;val&gt; &lt;LP&#x3D;val&gt; &lt;WM&#x3D;val&gt;</span><br><span class="line">+&lt;LM&#x3D;val&gt; &lt;OFF&gt; &lt;IC&#x3D;vd&gt; &lt;M&#x3D;val&gt; &lt;DTEMP&#x3D;val&gt;</span><br><span class="line">Dxxx nplus nminus mname &lt;AREA&#x3D;val&gt; &lt;L&#x3D;val&gt; &lt;WP&#x3D;val&gt; &lt;LP&#x3D;val&gt; &lt;WM&#x3D;val&gt;</span><br><span class="line">+&lt;LM&#x3D;val&gt; &lt;OFF&gt; &lt;IC&#x3D;vd&gt; &lt;M&#x3D;val&gt; &lt;DTEMP&#x3D;val&gt;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>AREA</strong><br>Represents the area of the diode.<br>default=1</p>
</blockquote>
<blockquote>
<p><strong>Dxxx</strong><br>Diode element name, must begin with an ‘D’.</p>
</blockquote>
<blockquote>
<p><strong>nplus</strong><br>Positive terminal name (arrow end) of the diode.</p>
</blockquote>
<blockquote>
<p><strong>nminus</strong><br>Negative terminal name (line end) of the diode.</p>
</blockquote>
<blockquote>
<p><strong>PJ</strong><br>Periphery of junction.</p>
</blockquote>
<blockquote>
<p><strong>WP</strong><br>Polysilicon capacitor width (in meters).</p>
</blockquote>
<blockquote>
<p><strong>LP</strong><br>Polysilicon capacitor length (in meters).</p>
</blockquote>
<blockquote>
<p><strong>WM</strong><br>Metal capacitor width (in meters).</p>
</blockquote>
<blockquote>
<p><strong>LM</strong><br>Metal capacitor length (in meters).</p>
</blockquote>
<blockquote>
<p><strong>OFF</strong><br>Sets the diode initially to the off operation region (DC analysis).<br>default=ON</p>
</blockquote>
<blockquote>
<p><strong>IC</strong><br>Initial diode voltage.</p>
</blockquote>
<p>The rest options can be refer to resistor.</p>
<p><em>BJT is skipped.</em></p>
<hr>
<h4 id="MOSFETS"><a href="#MOSFETS" class="headerlink" title="MOSFETS"></a>MOSFETS</h4><p>MOSFETs are another device within HSPICE that requires a <code>.model</code> statement.<br>The <code>.model</code> statement is required to define whether or not the circuit designer<br>want to deal with a p- or n-channel device. The syntax for the <code>.model</code> statement<br>is shown below:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.model mname NMOS &lt;or PMOS&gt; &lt;parameters&gt;</span><br></pre></td></tr></table></figure>
<p>Only the model name and the NMOS (or PMOS) are required. The MOSFET transistor element uses the following formats:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Mxxx nd ng ns mname</span><br><span class="line">Mxxx nd ng ns &lt;nb&gt; mname &lt;L&#x3D;val&gt; &lt;W&#x3D;val&gt; &lt;AD&#x3D;val&gt; &lt;AS&#x3D;val&gt; &lt;PD&#x3D;val&gt;</span><br><span class="line">+&lt;PS&#x3D;val&gt; &lt;NRD&#x3D;val&gt; &lt;NRS&#x3D;val&gt; &lt;RDC&#x3D;val&gt; &lt;RSC&#x3D;val&gt; &lt;OFF&gt;</span><br><span class="line">+&lt;IC&#x3D;vds,vgs,vbs&gt; &lt;M&#x3D;val&gt; &lt;DTEMP&#x3D;val&gt; &lt;GEO&#x3D;val&gt; &lt;DELVTO&#x3D;val&gt;</span><br><span class="line">Mxxx nd ng ns &lt;nb&gt; mname lval wval ...</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>nd</strong><br>Node name for drain terminal. </p>
</blockquote>
<blockquote>
<p><strong>nd</strong><br>Node name for gate terminal.</p>
</blockquote>
<blockquote>
<p><strong>ns</strong><br>Node name for source terminal.</p>
</blockquote>
<blockquote>
<p><strong>nb</strong><br>Node name for the bulk terminal.</p>
</blockquote>
<blockquote>
<p><strong>AD</strong><br>Diffusion area of the drain.</p>
</blockquote>
<blockquote>
<p><strong>AS</strong><br>Diffusion area of the source.</p>
</blockquote>
<blockquote>
<p><strong>PD</strong><br>Drain junction perimeter (including channel edge).<br>default=0</p>
</blockquote>
<blockquote>
<p><strong>PS</strong><br>Source junction perimeter (including channel edge).<br>default=0</p>
</blockquote>
<blockquote>
<p><strong>NRD</strong><br>Number of resistance squares of drain diffusion.<br>default=0</p>
</blockquote>
<blockquote>
<p><strong>NRS</strong><br>Number of resistance squares of source diffusion.<br>default=0</p>
</blockquote>
<blockquote>
<p><strong>RDC</strong><br>Contact resistance on the drain.<br>default=0</p>
</blockquote>
<blockquote>
<p><strong>RSC</strong><br>Contact resistance on the source.<br>default=0</p>
</blockquote>
<blockquote>
<p><strong>OFF</strong><br>Sets the transistor initially to the off operation region (DC analysis).<br>default=ON</p>
</blockquote>
<blockquote>
<p><strong>vbs,vds,vgs</strong>     </p>
</blockquote>
<ul>
<li>vbs: initial bulk-source voltage</li>
<li>vds: initial drain-source voltage</li>
<li>vgs: initial gate-source voltage</li>
</ul>
<blockquote>
<p><strong>DELVTO</strong><br>Zero-bias threshold voltage shift.<br>default=0</p>
</blockquote>
<blockquote>
<p><strong>GEO</strong><br>Source-drain sharing selector (only use for ACM=3 in <code>.model</code>).<br>default=0</p>
</blockquote>
<hr>
<h2 id="Independent-sources"><a href="#Independent-sources" class="headerlink" title="Independent sources"></a>Independent sources</h2><h3 id="General-Form"><a href="#General-Form" class="headerlink" title="General Form"></a>General Form</h3><p>In general, voltage and current sources in HSPICE can be very almost anything<br>from simple dc sources to incredibly complex piecewise linear ones. The general<br>form for both current and voltage sources are shown below:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">* Voltage</span><br><span class="line">Vxxx n+ n- &lt;DC&#x3D;&gt;dcval</span><br><span class="line">Vxxx n+ n- &lt;AC&#x3D;&gt;acmag, acphase</span><br><span class="line">Vxxx n+ n- tranfun</span><br><span class="line">* Current</span><br><span class="line">Ixxx n+ n- &lt;DC&#x3D;&gt;dcval</span><br><span class="line">Ixxx n+ n- &lt;AC&#x3D;&gt;acmag, acphase</span><br><span class="line">Ixxx n+ n- tranfun</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>tranfun</strong><br>Transient source function (i.e. PULSE, PU, SIN, EXP, PWL, PL).</p>
</blockquote>
<hr>
<h3 id="Pulse-Function"><a href="#Pulse-Function" class="headerlink" title="Pulse Function"></a>Pulse Function</h3><p>The pulse function can create either a linear rectangular or linear trapazoidal<br>pulse with an initial time delay. The function also has user defined rise, fall,<br>and high times. The functions are placed in the tranfun position listed above.<br>The pulse function has the form:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">PULSE (v1 v2 &lt;td&gt; &lt;tr&gt; &lt;tf&gt; &lt;pw&gt; &lt;per&gt;)</span><br><span class="line">PU (v1 v2 &lt;td&gt; &lt;tr&gt; &lt;tf&gt; &lt;pw&gt; &lt;per&gt;)</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>v1</strong><br>Initial value of voltage or current before the pulse.</p>
</blockquote>
<blockquote>
<p><strong>v2</strong><br>Pulse current or voltage value.</p>
</blockquote>
<blockquote>
<p><strong>td</strong><br>Time delay for the start of the transient interval to the up ramp.<br>default=0</p>
</blockquote>
<blockquote>
<p><strong>tr</strong><br>Rise time.<br>default=TSTEP</p>
</blockquote>
<blockquote>
<p><strong>tf</strong><br>Fall time.<br>default=TSTEP</p>
</blockquote>
<blockquote>
<p><strong>pw</strong><br>Pulse width.<br>default=TSTEP</p>
</blockquote>
<blockquote>
<p><strong>per</strong><br>Pulse repetition period in seconds.<br>default=TSTEP (transient timestep)</p>
</blockquote>
<hr>
<h3 id="Sin-Function"><a href="#Sin-Function" class="headerlink" title="Sin Function"></a>Sin Function</h3><p>The HSPICE sin function can produce a sin wave input with user defined delay,<br>magnitude and phase. Also, HSPICE can also produce exponentially damped sin<br>sources.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sin (vo va freq td damp&lt;pd&gt;)</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>vo</strong><br>Wave offset.</p>
</blockquote>
<blockquote>
<p><strong>va</strong><br>wave amplitude.</p>
</blockquote>
<blockquote>
<p><strong>freq</strong><br>Wave frequency in Hz.<br>default=1/TSTOP</p>
</blockquote>
<blockquote>
<p><strong>td</strong><br>Wave time delay in seconds.<br>default=0</p>
</blockquote>
<blockquote>
<p><strong>damp</strong><br>Wave damping factor in 1/seconds.<br>default=0</p>
</blockquote>
<blockquote>
<p><strong>pd</strong><br>Phase delay in degrees (<em>not radians</em>).<br>default=0</p>
</blockquote>
<hr>
<h3 id="Exponential-Function"><a href="#Exponential-Function" class="headerlink" title="Exponential Function"></a>Exponential Function</h3><p>The exp function produces an exponential with user definable rise time and fall<br>time constants and delay values.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">exp (v1 v2 &lt;td1&gt; &lt;t1&gt; &lt;td2&gt; &lt;t2&gt;)</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>v1</strong><br>Starting voltage or current.</p>
</blockquote>
<blockquote>
<p><strong>v2</strong><br>Pulse value of voltage or current.</p>
</blockquote>
<blockquote>
<p><strong>td1</strong><br>Rise delay time in seconds.<br>default=0</p>
</blockquote>
<blockquote>
<p><strong>t1</strong><br>Rise time constant in seconds.<br>default=TSTEP</p>
</blockquote>
<blockquote>
<p><strong>td2</strong><br>Fall delay time in seconds.<br>default=td1+TSTEP</p>
</blockquote>
<blockquote>
<p><strong>t2</strong><br>Fall time constant in seconds.<br>default=TSTEP</p>
</blockquote>
<hr>
<h3 id="Piecewise-Linear-Function"><a href="#Piecewise-Linear-Function" class="headerlink" title="Piecewise Linear Function"></a>Piecewise Linear Function</h3><p>The HSPICE piecewise linear function is a collection of user defined pulses and<br>steps. All plateaus and rise and fall times are also user definable. In addition,<br>when moving between differing voltages or currents, the function will always<br>proceed linearly.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">PWL (v1 t1, &lt;v2 t2, v3 t3, ...&gt; &lt;R&#x3D;&lt;repeat&gt;&gt; &lt;TD&#x3D;delay&gt;)</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>R</strong><br>Forces the function to repeat.    </p>
</blockquote>
<blockquote>
<p><strong>repeat</strong><br>The start time for the function to repeat in seconds.</p>
</blockquote>
<blockquote>
<p><strong>t1…</strong><br>The time value in seconds.</p>
</blockquote>
<blockquote>
<p><strong>TD</strong><br>Keyword for the function time delay.</p>
</blockquote>
<blockquote>
<p><strong>delay</strong><br>Actual time delay in seconds.</p>
</blockquote>
<blockquote>
<p><strong>v1…</strong><br>Current or voltage values.</p>
</blockquote>
<p><strong>Note</strong>: each voltage and time come in pairs.</p>
<h1 id="HSPICE-Commands"><a href="#HSPICE-Commands" class="headerlink" title="HSPICE - Commands"></a>HSPICE - Commands</h1><p><strong>Commands or Control Statements to Specify the Type of Analysis</strong></p>
<h2 id="op-Statement"><a href="#op-Statement" class="headerlink" title=".op Statement"></a><code>.op</code> Statement</h2><p>This statement instructs SPICE to compute the DC operating points:</p>
<ul>
<li>voltage at the nodes</li>
<li>current in each voltage source</li>
<li>operating point for each element</li>
</ul>
<p>In HSPICE it is usually not necessary to specify <code>.op</code> as it gives you<br>automatically the DC node voltages. However, HSPICE does not give the DC voltages<br>unless you have specified a certain analysis type, such as for instance <code>.tran</code><br>or <code>.ac</code> analysis (SPICE automatically does a DC analysis before doing a<br>transient or AC analysis). Thus, if you are only interested in the DC voltages in<br>HSPICE, you should specify the <code>.op</code> option, or the <code>.dc</code> option.</p>
<h2 id="dc-Statement"><a href="#dc-Statement" class="headerlink" title=".dc Statement"></a><code>.dc</code> Statement</h2><p>This statement allows you to increment (sweep) an independent source over a<br>certain range with a specified step. The format is as follows:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.dc SRCname START STOP STEP</span><br></pre></td></tr></table></figure>
<p>in which <code>SRCname</code> is the name of the source you want to vary; <code>START</code> and <code>STOP</code><br>are the starting and ending value, respectively; and <code>STEP</code> is the size of the<br>increment.</p>
<h2 id="tf-Statement"><a href="#tf-Statement" class="headerlink" title=".tf Statement"></a><code>.tf</code> Statement</h2><p>The <code>.tf</code> statement instructs HSPICE to calculate the following small signal<br>characteristics:</p>
<ol>
<li>the ratio of output variable to input variable (gain or transfer gain)</li>
<li>the resistance with respect to the input source</li>
<li>the resistance with respect to the output terminals</li>
</ol>
<p><code>.tf outvar insrc</code> in which <code>outvar</code> is the name of the output variable and<br><code>insrc</code> is the input source.</p>
<h2 id="sens-Statement"><a href="#sens-Statement" class="headerlink" title=".sens Statement"></a><code>.sens</code> Statement</h2><p>This instructs HSPICE to calculate the DC small-signal sensitivities of each<br>specified output variable with respect to <em>every</em> circuit parameter.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">.sens variable</span><br><span class="line">&#96;&#96;&#96;	 </span><br><span class="line">## &#96;.tran&#96; Statement</span><br><span class="line"></span><br><span class="line">This statement specifies the time interval over which the transient analysis</span><br><span class="line">takes place, and the time increments. The format is as follows:</span><br></pre></td></tr></table></figure>
<p>.tran TSTEP TSTOP &lt;TSTART <TMAX>&gt; <UIC></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- &#96;TSTEP&#96; is the printing increment.</span><br><span class="line">- &#96;STEOP&#96; is the final time.</span><br><span class="line">- &#96;TSTART&#96; is the starting time (if omitted. TSTART is assumed to be zero)</span><br><span class="line">- &#96;TMAX&#96; is the maximum step size.</span><br><span class="line">- &#96;UIC&#96; stands for Use Initial Condition and instructs HSPICE not to do the</span><br><span class="line">quiescent operating point before begining the transient analysis. If UIC is specified, HSPICE will use the initial conditions specified in the element statements.</span><br><span class="line"></span><br><span class="line">## &#96;.ic&#96; Statement</span><br><span class="line"></span><br><span class="line">This statement provides an alternative way to specify initial conditions of nodes</span><br><span class="line">(and thus over capacitors).</span><br></pre></td></tr></table></figure>
<p>.ic Vnode1 = value Vnode2 = value</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">## &#96;.ac&#96; Statement</span><br><span class="line"></span><br><span class="line">This statement is used to specify the frequency (AC) analysis. The format is as</span><br><span class="line">follows:</span><br></pre></td></tr></table></figure>
<p>.ac LIN NP FSTART FSTOP<br>.ac DEC ND FSTART FSTOP<br>.ac OCT NO FSTART FSTOP</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">in which &#96;LIN&#96; stands for a linear frequency variation, &#96;DEC&#96; and &#96;OCT&#96; for a</span><br><span class="line">decade and octave variation respectively. &#96;NP&#96; stands for the number of points</span><br><span class="line">and &#96;ND&#96; and &#96;NO&#96; for the number of frequeny points per decade and octave.</span><br><span class="line">&#96;FSTART&#96; and &#96;FSTOP&#96; are the start and stopping frequencies in Herz.</span><br><span class="line"></span><br><span class="line">## Output Statements</span><br><span class="line"></span><br><span class="line">These statements will instruct HSPICE what output to generate. If you do not</span><br><span class="line">specify an output statement, HSPICE will always calculate the DC operating</span><br><span class="line">points. The two type of outputs are the prints and plots. A print is a table of</span><br><span class="line">data points and a plot is a graphical representation. The format is as follows:</span><br></pre></td></tr></table></figure>
<p>.print TYPE OV1 OV2 OV3<br>.plot TYPE OV1 OV2 OV3</p>
<pre><code>in which `TYPE` specifies the type of analysis to be printed or ploted and can
be:
- DC
- TRAN
- AC

The output variables are OV1, OV2 and can be voltage or currents. Node voltages
and device currents can be specified as magnitude (M), phase (P), real (R) or
imaginary (I) parts by adding the suffix to V or I as follows:
- M: magnitude
- DB: magnitude in dB (deciBells)
- P: phase
- R: real part
- I: imaginary part

# NOTES

1. Know what to expect from the simulation before running it.
2. Simulation is NO substitute for THINKING.

## Other helpful hints
1. You can measure the voltage at any node, or the voltage between any two nodes.
However, you can only measure the current passing through a voltage source. To
measure a current through a branch, insert a dummy voltage source of value 0 in
the branch (like an ammeter) and measure the current through this dummy voltage
source.
2. To extract the data from the `.lis` file, have `.print` statements. Use
`.options ingold` so that the data is in the exponent notation. Just edit the
`.lis` file that you get to have the data suitable for MatLab.</code></pre>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://wangjianze96.github.io/2021/07/02/arch-install/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Wang Jinaze">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jianze's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/07/02/arch-install/" class="post-title-link" itemprop="url">保姆级Arch Linux安装教程(1)</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-07-02 18:56:10" itemprop="dateCreated datePublished" datetime="2021-07-02T18:56:10+08:00">2021-07-02</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-09-05 16:38:38" itemprop="dateModified" datetime="2021-09-05T16:38:38+08:00">2021-09-05</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Hobby/" itemprop="url" rel="index"><span itemprop="name">Hobby</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <blockquote>
<p>吐槽：因为之前hexo的tags和categories页面无法正常显示，在配置的过程中一不小心把原来的两篇博客都删掉了。尝试了用windows FileRecovery找了回来，确实是找回来了。<br>只不过，找回来的文件都无法正常打开，虽然名称和后缀都对，但是就是无法正常显示，无论是图片还是文字，都不行。只能重写了。这一篇还好，是我不久前写的，但是另一篇是很久之前写的了。<br>如果以后还有时间的话，再补回来吧。这回长记性了QAQ</p>
</blockquote>
<h1 id="安装前"><a href="#安装前" class="headerlink" title="安装前"></a>安装前</h1><ul>
<li>下载<a target="_blank" rel="noopener" href="https://archlinux.org/download/">Arch Linux</a>以及制作安装介质（物理机安装）。</li>
<li>准备好官方的<a target="_blank" rel="noopener" href="https://wiki.archlinux.org/title/Installation_guide">安装文档</a>。</li>
</ul>
<h2 id="UEFI-还是-BIOS-MBR-？"><a href="#UEFI-还是-BIOS-MBR-？" class="headerlink" title="UEFI 还是 BIOS+MBR ？"></a>UEFI 还是 BIOS+MBR ？</h2><p>如果不确定自己的电脑是<code>EFI</code>启动还是<code>BIOS+MBR</code>，可以先进入安装界面，输入</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls &#x2F;sys&#x2F;firmware&#x2F;efi&#x2F;</span><br></pre></td></tr></table></figure>
<p>如果有内容输出的话，就是<code>EFI</code>，反之就是<code>BIOS+MBR</code>。</p>
<p><strong>注意：这篇文档只会介绍<code>EFI</code>启动模式下的安装。</strong></p>
<p>VMware下，如果想采用<code>EFI</code>启动，可以按以下步骤：</p>
<ul>
<li>创建好虚拟机但是不要直接运行；</li>
<li>找到你创建的虚拟机目录下的后缀为<code>*.vmx</code>文件；</li>
<li>用你喜欢的文本编辑器打开，在其中加入：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">firmware &#x3D; &quot;efi&quot;</span><br></pre></td></tr></table></figure>
这样开始虚拟机之后就是<code>EFI</code>启动了。</li>
</ul>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a><strong>参考</strong></h2><ul>
<li><a target="_blank" rel="noopener" href="https://wiki.archlinux.org/title/Installation_guide">官方安装文档</a></li>
<li>Bilibili up主：<a target="_blank" rel="noopener" href="https://space.bilibili.com/13081489">TheCW</a> -&gt; <a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV11J411a7Tp">Arch Linux安装视频</a></li>
</ul>
<h3 id="几句想说的话"><a href="#几句想说的话" class="headerlink" title="几句想说的话"></a><strong>几句想说的话</strong></h3><p>如果你真的找到了这篇文档，说明你应该像我一样很喜欢折腾这些东西。如果这篇文档真的帮助到你，我会非常开心也会感到非常荣幸。我的很多知识都来源于开源社区无私的分享者们，我也会努力分享我能够分享的一切，希望你也能将开源社区的精神传递下去，谢谢。</p>
<hr>
<h1 id="开始"><a href="#开始" class="headerlink" title="开始"></a>开始</h1><p>来到启动界面开始安装，进入之后会看到下面的界面：</p>
<p><img src="./arch_imgs/2.png" alt="2"></p>
<p>如果觉得字体比较小看着不舒服，可以输入以下命令调整字体大小：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">setfont &#x2F;usr&#x2F;share&#x2F;kbd&#x2F;consolefonts&#x2F;LatGrkCry-12x22.psfu.gz</span><br></pre></td></tr></table></figure>
<p>所有的console字体都放在<code>/usr/share/kbd/consolefonts/</code>这个文件夹下，你也可以选择其他你想用的字体。</p>
<p><strong>网络设置：</strong></p>
<p>我推荐在安装时插一根网线，方便很多。VMware下就相当于已经为虚拟机插了网线了。如果需要链接Wi-Fi，可以参考以下命令和参考目录下的<a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV11J411a7Tp">视频</a>:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">ip link show                        # 查看接口名称</span><br><span class="line">ip link set &lt;xxx&gt; up    	        # xxx 就是上一指令中的接口名称</span><br><span class="line">iwlist &lt;xxx&gt; scan | grep ESSID	    # 扫描可用的Wi-Fi链接</span><br><span class="line">wpa_passphrase &lt;wifi_name&gt; &lt;passwd&gt; &gt; internet.conf # 替换成你自己的Wi-Fi名称和密码</span><br><span class="line">wps_supplicant -c internet.conf -i &lt;xxx&gt; &amp;    # 用上一条指令生成的配置文件链接Wi-Fi。</span><br><span class="line">dhcpcd &amp;                            # 运行dhcpcd使我们的网络连接生效</span><br></pre></td></tr></table></figure>
<p>现在，我们可以尝试ping一个网址，看看网路是否已经连接好了。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ping www.archlinux.org</span><br></pre></td></tr></table></figure>
<p>如果有正常的输出，我们的网络就配置好了。注意，一定要有网络连接，我们安装的时候会需要网络。</p>
<p><strong>更新系统时钟：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">timedatectl set-ntp true</span><br></pre></td></tr></table></figure>
<p>如果你有其他的需求，比如更换键盘布局，请参考<a target="_blank" rel="noopener" href="https://wiki.archlinux.org/title/Installation_guide">官方安装文档</a>。</p>
<h2 id="分区（重要）"><a href="#分区（重要）" class="headerlink" title="分区（重要）"></a><strong>分区（重要）</strong></h2><p>有带有图形界面的分区工具，例如<code>cfdisk</code>，我这里还是用<code>fdisk</code>。首先，我们输入<code>fdisk -l</code>，查看一下我们当前磁盘的名称，如下图所示，我的磁盘名称是<code>/dev/sda</code>。</p>
<p>输入<code>fdisk /dev/sda</code>，进入<code>fdisk</code>开始分区。</p>
<p><img src="./arch_imgs/3.png" alt="3"></p>
<p>如果不熟悉<code>fdisk</code>也没关系，可以输入<code>m</code>查看使用帮助：</p>
<p><img src="./arch_imgs/4.png" alt="4"></p>
<p>我打算为我的系统分以下四个区:</p>
<ul>
<li>/boot：用来作为启动分区，512M</li>
<li>swap：用来作为虚拟内存，2G</li>
<li>/：根目录，32G</li>
<li>/home：家目录（optional），剩余磁盘空间</li>
</ul>
<p>下面我就根据以上，开始在这个磁盘上制作分区。</p>
<p>首先输入<code>g</code>将现在的磁盘变为GPT格式：</p>
<p><img src="./arch_imgs/5.png" alt="5"></p>
<p>之后输入<code>n</code>产生一个新的分区，接着分区编号，可以看到从1到128都可以；再之后输入起始位置（默认就好），之后输入终点位置，输入形式为&lt;+Capacity&gt;，例如<code>+512M</code>或者<code>+2G</code>，一定不要忘记加号。</p>
<p>按照之前我设想的分区，将以上过程重复几遍，如下图所示（我没有按照1234编号，按个人需求配置），这时再输入<code>p</code>查看我们刚刚告诉给<code>fdisk</code>的分区指令：</p>
<p><img src="./arch_imgs/6.png" alt="6"></p>
<p>可以看到我们分区已经显示出来了，但是这时<code>fdisk</code>还没有将这些分区写入，在我们输入写入指令之前，<code>fdisk</code>不会更改我们的磁盘。现在输入<code>w</code>写入。写入完成后<code>fdisk</code>会自动退出，回到root下。</p>
<p><em>以下为optional，刚刚已经写入了也没关系</em>：我们也可以在<code>fdisk</code>下更改分区的文件系统，输入<code>t</code>告诉<code>fdisk</code>我们要更改分区的文件系统，这时<code>fdisk</code>会要求我们输入分区的编号，再输入想要改到的文件系统的编号，例如我们更改<code>/dev/sda1</code>为<code>EFI file system</code>，输入<code>t</code>，输入分区编号<code>1</code>，再输入文件系统的编号<code>1</code>，我们就把<code>/dev/sda1</code>从<code>Linux file system</code>改为了<code>EFI file system</code>。</p>
<p><img src="./arch_imgs/7.png" alt="7"></p>
<p>现在我们可以为我们刚刚写入的分区制作对应的文件系统。在命令行中一次输入以下指令：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mkfs.fat -F32 &#x2F;dev&#x2F;sda1</span><br><span class="line">mkfs.ext4 &#x2F;dev&#x2F;sda3</span><br><span class="line">mkfs.ext4 &#x2F;dev&#x2F;sda4</span><br><span class="line">mkswap &#x2F;dev&#x2F;sda2</span><br><span class="line">swapon &#x2F;dev&#x2F;sda2</span><br></pre></td></tr></table></figure>
<p>如果不记得自己的对应分区名称，可以输入<code>fdisk -l</code>查看。输入指令时如下图所示：</p>
<p><img src="./arch_imgs/9.png" alt="9"></p>
<p>现在我们将<code>/mnt</code>挂载到对应的分区上。输入以下命令：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mount &#x2F;dev&#x2F;sda3 &#x2F;mnt</span><br><span class="line">mkdir &#x2F;mnt&#x2F;boot</span><br><span class="line">mount &#x2F;dev&#x2F;sda1 &#x2F;mnt&#x2F;boot</span><br><span class="line">mkdir &#x2F;mnt&#x2F;home</span><br><span class="line">mount &#x2F;dev&#x2F;sda4 &#x2F;mnt&#x2F;home</span><br></pre></td></tr></table></figure>
<h2 id="真正的安装"><a href="#真正的安装" class="headerlink" title="真正的安装"></a>真正的安装</h2><p>安装脚本<code>Arch Linux</code>官方已经给我们准备好了，输入以下指令：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pacstrap &#x2F;mnt base linux linux-firmware</span><br></pre></td></tr></table></figure>
<p>我建议在这一步后面加上其他比较重要的的软件包，例如文本编辑器（vi/vim/nano/emacs），网络配置工具（dhcpcd，wpa_supplicant）等。</p>
<p>其实在这之前会有教程提示说更改源，不过最新的arch linux安装的时候会自动把离你最近的源放到最前，不需要再更改了。</p>
<p>输入以上命令之后，等着安装完成：</p>
<p><img src="./arch_imgs/10.png" alt="10"></p>
<h2 id="重要配置"><a href="#重要配置" class="headerlink" title="重要配置"></a>重要配置</h2><ul>
<li>首先生成fstab文件<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">genfstab -U &#x2F;mnt &gt; &#x2F;mnt&#x2F;etc&#x2F;fstab</span><br></pre></td></tr></table></figure></li>
<li>现在，我们登录进刚刚安装好的系统：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arch-chroot &#x2F;mnt</span><br></pre></td></tr></table></figure></li>
<li>设置区域和时间<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ln -sf &#x2F;usr&#x2F;share&#x2F;zoneinfo&#x2F;Asia&#x2F;Singapore &#x2F;etc&#x2F;localtime</span><br></pre></td></tr></table></figure>
这里Asia/Singapore可以改成其他的地区，看你自己所在的地理位置。</li>
<li>设置硬件时钟<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hwclock --systohc --utc</span><br></pre></td></tr></table></figure></li>
<li>本地化</li>
</ul>
<p><strong>这里默认你已经在刚刚安装的时候安装好了一个文本编辑器，如果没有，输入<code>pcaman -S &lt;your-favoriate-editor&gt;</code>安装</strong></p>
<p>打开文件<code>/etc/locale.gen</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Editor&#x3D;&lt;your-favorite-editor&gt; &#x2F;etc&#x2F;locale.gen</span><br></pre></td></tr></table></figure>
<p>找到<code>en_US.UTF8 UTF8</code>，去掉这一行注释，保存退出后，输入：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">locale-gen</span><br></pre></td></tr></table></figure>
<p>再用&lt;你喜欢的编辑器&gt;打开<code>/etc/locale.conf</code>，写入：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">LANG&#x3D;en_US.UTF8</span><br></pre></td></tr></table></figure>
<p>保存并推出。</p>
<ul>
<li>编辑localhost和hosts</li>
</ul>
<p>用&lt;你喜欢的编辑器&gt;打开文件<code>/etc/hostname</code>，写入：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">myarch</span><br></pre></td></tr></table></figure>
<p>这里这个hostname写啥都行，我就直接写了myarch。保存并推出。</p>
<p>再用&lt;你喜欢的编辑器&gt;打开文件<code>/etc/hosts</code>，写入：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1   localhost</span><br><span class="line">::1         localhost</span><br><span class="line">127.0.1.1   myarch.localdomain  myarch</span><br></pre></td></tr></table></figure>
<p>这里把<code>myarch</code>换成你自己刚刚在<code>hostname</code>中写入到名称。保存并推出。</p>
<ul>
<li>root密码</li>
</ul>
<p>在命令行中输入</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">passwd</span><br></pre></td></tr></table></figure>
<p>创建你的root密码，千万要记住这个密码。</p>
<h3 id="安装引导（重要）"><a href="#安装引导（重要）" class="headerlink" title="安装引导（重要）"></a>安装引导（重要）</h3><p>输入以下指令安装grub和其他必要的软件包：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pacman -S grub efibootmgr intel-ucode os-prober</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>注意：如果你在安装双系统的话，再多安装一个<code>ntfs-3g</code>。</strong></p>
<p><strong>在进行以下步骤之前，找到文件<code>/etc/default/grub</code>，在其中加入以下，然后保存退出</strong></p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GRUB_DISABLE_OS_PROBER&#x3D;false</span><br></pre></td></tr></table></figure>
<p>创建文件夹<code>/boot/grub</code>，命令行中输入</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir &#x2F;boot&#x2F;grub</span><br></pre></td></tr></table></figure>
<p>生产grub配置文件，命令行中输入：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grub-mkconfig &gt; &#x2F;boot&#x2F;grub&#x2F;grub.cfg</span><br></pre></td></tr></table></figure>
<p>安装grub-efi引导，命令行中输入：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grub-install --target&#x3D;x86_64-efi --efi-directory&#x3D;&#x2F;boot</span><br></pre></td></tr></table></figure>
<p>如下图所示：</p>
<p><img src="./arch_imgs/13.png" alt="13"></p>
<p><strong>如果你再安装系统时还没有安装网路工具，现在一定要安装，否则一会安装完成之后重启，arch没有网络连接。需要的工具在之前有提到。</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pacman -S dhcpcd wpa_supplicant</span><br></pre></td></tr></table></figure>
<h3 id="准备重启"><a href="#准备重启" class="headerlink" title="准备重启"></a>准备重启</h3><p>重启之前，先退出这个安装好的系统</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">exit</span><br></pre></td></tr></table></figure>
<p>然后把之前<code>mount</code>上去的<code>umount</code>掉。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">umount &#x2F;mnt&#x2F;boot</span><br><span class="line">umount &#x2F;mnt&#x2F;home</span><br><span class="line">umount &#x2F;mnt</span><br></pre></td></tr></table></figure>
<p>输入<code>reboot</code>重启</p>
<p><img src="./arch_imgs/14.png" alt="14"></p>
<p>如果出现grub的引导界面：</p>
<p><img src="./arch_imgs/15.png" alt="15"></p>
<p>恭喜！安装正式完成啦！开始玩耍吧！</p>
<p><img src="./arch_imgs/16.png" alt="16"></p>
<p>不过可以看到，现在我们是root用户，而且整个系统没有图形界面。下一篇文档我会写安装图形界面的过程以及添加普通用户。</p>
<p>欢迎加入<a target="_blank" rel="noopener" href="https://www.archlinux.org/">Arch</a>。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Wang Jinaze</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">3</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories">
          
        <span class="site-state-item-count">2</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags">
          
        <span class="site-state-item-count">1</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="mailto:jianze.wang@u.nus.edu" title="E-Mail → mailto:jianze.wang@u.nus.edu" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Wang Jinaze</span>
</div>


  
    
    
      
    
    
    
  

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

  

</body>
</html>
